---
import Layout from '../components/Layout.astro';
import Section from '../components/Section.astro';
import InfoCard from '../components/InfoCard.astro';
import Button from '../components/Button.astro';
import { event } from '../config/event';

const isExternal = event.rsvp.mode === 'external';
---

<Layout title="Confirmar presença" description="Confirmação de presença (RSVP).">
  <Section title="RSVP" description="Confirme sua presença para ajudar na organização.">
    <div class="grid gap-4 lg:grid-cols-2">
      <InfoCard title="Confirmação">
        {isExternal ? (
          <>
            <p>Use o formulário externo para confirmar.</p>
            <div class="mt-3">
              <Button href={event.rsvp.externalUrl} target="_blank" rel="noreferrer" variant="primary">
                Confirmar no formulário
              </Button>
            </div>
          </>
        ) : (
          <>
            <p>Em breve: confirmação direta pelo site.</p>
            <p class="mt-2 text-sm text-slate-600">Placeholder: {event.rsvp.apiEndpointPlaceholder}</p>
          </>
        )}
      </InfoCard>

      <InfoCard title="Informações úteis">
        <p>Se puder, informe nome e quantidade de acompanhantes.</p>
        <p class="mt-2">Caso tenha alguma alergia alimentar, avise no contato.</p>
      </InfoCard>
    </div>

    <!-- Futuro endpoint: implementar POST para event.rsvp.apiEndpointPlaceholder -->
  </Section>
</Layout>

